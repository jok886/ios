iOS 蓝牙4.0开发  

BLE大于20字节的数据，需要手动分包


IOS中关于蓝牙的框架其实有四个：

（1）GameKit.framework 多用于游戏开发，仅限于ios设备之间的连接。

（2）MultipeerConnectivity.framework 这个就是ios设备之间互相传文件用的。

（3）ExternalAccessory.framework 这个框架可以用于和第三方蓝牙进行交互，但是必须是MFI（make for iphone，iPad，ipod。。。等等）设备，但是这种设备需要经过苹果的认证，而且比较困难，所以用的相当少。

（4）CoreBluetooth.framework 这就是我们的主角了，主要用于和第三方蓝牙的交互，这个不需要苹果的认证，但是必须是蓝牙4.0以上的设备（现在基本都是了），蓝牙4.0也叫BLE（Bluetooth Low Energy）所以一般都称之为BlE开发，从iPhone4s及其以后的设备都是支持BLE的。

       所以说IOS的BLE开发其实就是CoreBluetooth.framework这个框架的使用，一般情况下现在所说的IOS蓝牙开发也都是BLE开发。我们现在所做的智能家居，智能手环，类似的这些东西基本都是使用的这种方式与iPhone连接的。



二.CoreBluetooth框架简介
1.首先要了解两个概念：
central：中心设备。一般为主动发起连接的设备就是中心设备。

peripheral：外设。外设顾名思义外部设备，比如你用你手机的APP去连接你的智能手环，此时，你的手机叫中心设备，手环就叫外部设备。一般为被连接的设备。又比如，如果是电脑发起连接来连接你的手机，那么此时你的手机就变成了外设，所以说手机可以作为中心设备，也可以作为外部设备。

三.CoreBluetooth框架的基本使用流程
1.中心模式：

先创建中心设备的对象——>搜索外部设备——>连接目标外部设备——>扫描到外设中的服务——>获取到其中的特征——>通过这些特征于设备做数据的交互——>交互完毕断开连接

2.外设模式：

创建外部设备对象——>设置自己的服务，特征，权限等——>发布广告——>设置订阅以及读写特征的委托方法




